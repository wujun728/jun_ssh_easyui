<#ftl output_format="HTML" auto_esc=true>  <@h.commonHead title="后台管理系统" keywords="开源,永久免费"
description="springrain开源系统管理后台"/>

<script src="${ctx}/js/validform/validform.min.js"></script>


<link rel="stylesheet" href="${ctx}/js/validform/validform.css"
	media="all">
<script>
 	 var _site_id="${(returnDatas.data.siteId)!''}";
	 jQuery(function(){
		 jQuery("#siteId").val(_site_id);
		 /*
		 init_valid(_before,_after)
		 @_before:提交表单前，调用 的函数   可以为空，一般有validform处理不了，独自进行处理时使用
		 @_after:保存成功后，调用的函数  可以为空，一般为对应的列表页面
		 */
		 springrain.initValid(null,function(){window.location.href="${ctx}/system/cms/wxconfig/list?springraintoken="+springraintoken});
	 });
</script>
</head>
<body>
	<div class="layui-layout layui-layout-admin">
		<@h.naviHeader /><@h.leftMenu />
		<!-- 主体内容开始 -->
		<div class="layui-tab layui-tab-brief">
			<ul class="layui-tab-title site-demo-title">
				<li class="layui-this"><i class="layui-icon">&#xe630;</i> <span
					class="layui-breadcrumb" style="visibility: visible;"> 
				<a><cite>微信服务号配置信息管理</cite></a>
				</span></li>
				<li style="float: right;">
					<button type="button" onclick="history.go(-1)"
						class="layui-btn layui-btn-small" style="margin-top: 8px;">
						<i class="layui-icon layui-icon-specil">&#xe603;</i>返回
					</button>
				</li>
			</ul>

			<div class="layui-body layui-tab-content site-demo-body">
				<div class="layui-tab-item layui-show">
					<div class="layui-main">
						<div id="LAY_preview" class="layui-my-form">
							<header class="larry-personal-tit">
								<span>添加微信服务号配置信息</span>
							</header>
							<div class="larry-personal-body clearfix changepwd">
								<form id="validForm" class="layui-form <!--  -->" method="post"
									action="${ctx}/system/cms/wxconfig/update">
									<input type="hidden" id="id" name="id"
										value="${(returnDatas.data.id)!''}" />
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">站点*</label>
										<div class="layui-inline col-lg-5">
											 <select name="siteId" id="siteId" lay-verify="required">
										        <#if (returnDatas.map.siteList)?? && (returnDatas.map.siteList?size>0)>
										        	<#list returnDatas.map.siteList as site>
										        		<option value="${site.id}">${site.name}</option>
										        	</#list>
										        <#else>
										        	<option value=""></option>
										        </#if>
										      </select>
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">appId*</label>
										<div class="layui-inline col-lg-5">
											<input type="text" name="appId" id="appId" datatype="*"
												nullmsg="不能为空" errormsg="不能为空！" autocomplete="off"
												class="layui-input" value="${(returnDatas.data.appId)!''}">
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">appSecret*</label>
										<div class="layui-inline col-lg-5">
											<input type="text" name="secret" id="secret"
												datatype="*" nullmsg="不能为空" errormsg="不能为空！"
												autocomplete="off" class="layui-input"
												value="${(returnDatas.data.secret)!''}">
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">token*</label>
										<div class="layui-inline col-lg-5">
											<input type="text" name="token" id="token" datatype="*"
												nullmsg="不能为空" errormsg="不能为空！" autocomplete="off"
												class="layui-input" value="${(returnDatas.data.token)!''}">
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">EncodingAESKey</label>
										<div class="layui-inline col-lg-5">
											<input type="text" name="aesKey" id="aesKey"
												autocomplete="off" class="layui-input"
												value="${(returnDatas.data.aesKey)!''}">
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">公众号ID*</label>
										<div class="layui-inline col-lg-5">
											<input type="text" name="wxId" id="wxId" datatype="*"
												nullmsg="不能为空" errormsg="不能为空！" autocomplete="off"
												class="layui-input" value="${(returnDatas.data.wxId)!''}">
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item col-lg-6">
										<label class="layui-form-label">状态*</label>
										<div class="layui-inline col-lg-5">
											<select name="active" id="active" lay-verify="required">
												<option value="1">是</option>
												<option value="0">否</option>
											</select>
										</div>
										<div class="layui-inline valid-info"></div>
									</div>
									<div class="layui-form-item change-submit">
										<label class="layui-form-label"></label>
										<div class="layui-inline">
											<button type="button" class="layui-btn" id="smtbtn">保存</button>
											<button type="button" class="layui-btn layui-btn-primary"
												id="rstbtn">重置</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 主体内容结束 -->
		<@h.footer />
	</div>
</body>
</html>

